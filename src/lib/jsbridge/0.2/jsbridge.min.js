!function(t){function i(t,i){iframe=document.createElement("iframe"),iframe.style.display="none",iframe.src=t;var e=function(){try{iframe.parentNode.removeChild(iframe)}catch(t){}i&&i()};iframe.onload=e,document.documentElement.appendChild(iframe)}function e(){this.callbackDict={},this.notificationIdCount=0,this.notificationDict={};var e=this;t.document.addEventListener("DOMContentLoaded",function(){i("jsbridge://NotificationReady",e.trigger("jsBridgeReady",{}))},!1)}function o(t){var i=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),e=window.location.search.substr(1).match(i);return e&&decodeURIComponent(e[2])}function n(t){var i=new RegExp("(^|\\s)"+t+"=([^;]*)(;|$)"),e=document.cookie.match(i);return e&&decodeURIComponent(e[2])}function c(t){client.getprotocol(t)}e.prototype={constructor:e,postNotification:function(t,e){this.notificationIdCount++,this.notificationDict[this.notificationIdCount]={name:t,userInfo:e},i("jsbridge://PostNotificationWithId-"+this.notificationIdCount)},popNotificationObject:function(t){var i=JSON.stringify(this.notificationDict[t]);return delete this.notificationDict[t],i},trigger:function(t,i){if(this.callbackDict[t])for(var e=this.callbackDict[t],o=0,n=e.length;n>o;o++)e[o](i)},bind:function(t,i){this.callbackDict[t]||(this.callbackDict[t]=[]),this.callbackDict[t].push(i)},unbind:function(t,i){if(1==arguments.length)delete this.callbackDict[t];else if(arguments.length>1){if(this.callbackDict[t])for(var e=this.callbackDict[t],o=0,n=e.length;n>o;o++)if(e[o]==i){e.splice(o,1);break}0==this.callbackDict[t].length&&delete this.callbackDict[t]}}},t.callApp=function(i){if("undefined"==typeof console&&(console={log:function(){},error:function(){}}),"object"==typeof i&&"iosMessage"in i&&"androidMessage"in i){var a=o("_source")||o("_s")||n("_source")||n("_s");if("ios"===a){t.jsBridge=new e;try{jsBridge.postNotification("p",{message:i.iosMessage})}catch(r){console.error(r)}}else if("android"===a)try{c(i.androidMessage)}catch(r){console.error(r)}else console.log('Source "'+a+'" is not supported.')}else console.error("Parameter error. The correct format should be: {iosMessage:'',androidMessage:''}.")}}(window);